{"ParentUid":"835GVFcrw","Uid":"835GVFcrw","Data":"in memory cache를 사용할 때는 주의하자 #TIL #실수","Order":0,"IsRoot":true,"Children":[{"ParentUid":"835GVFcrw","Uid":"Po01_1adB","Data":"in memory cache에 expiring date를 담아두고, 그때까지 캐시가 남아 있으면 삭제하는 로직이 있다.","Order":0,"IsRoot":false,"Children":[],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"},{"ParentUid":"835GVFcrw","Uid":"sLwG04zyL","Data":"그런데 정상적으로 캐시된 date가 삭제 되었음에도 불구하고, 삭제 로직이 실행되는 케이스가 있었다.","Order":1,"IsRoot":false,"Children":[],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"},{"ParentUid":"835GVFcrw","Uid":"Xo73CMk-y","Data":"확인해보니, process가 2개 돌고 있었고, load balancing에 의해서 어느쪽이 실행될 지 모르는 상황.","Order":2,"IsRoot":false,"Children":[],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"},{"ParentUid":"835GVFcrw","Uid":"7iUvV4OXK","Data":"그래서 process 1에서 캐시되고, process 2에서 삭제 로직이 돌았다면, 서로 자신의 메모리만 참조하게 됨...","Order":3,"IsRoot":false,"Children":[],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"},{"ParentUid":"835GVFcrw","Uid":"sRHIhTPwf","Data":"아이고 머리야... 생각해보면 당연한 내용인데, 왜 일찍 깨닫지 못했을까 #생각 #개선 #[[할 것]]","Order":4,"IsRoot":false,"Children":[],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"}],"Images":[],"CreateTime":"2022-07-11T08:08:35Z","EditTime":"1970-01-01T00:00:00Z"}