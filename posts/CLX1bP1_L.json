{"ParentUid":"CLX1bP1_L","Uid":"CLX1bP1_L","Data":"아파치 플룸을 사용한 데이터 파이프라인 #블로그 #published","Order":0,"IsRoot":true,"Children":[{"ParentUid":"CLX1bP1_L","Uid":"5tx3FGqyj","Data":"개인적으로 여러가지 데이터를 처리하고 있다.","Order":0,"IsRoot":false,"Children":[{"ParentUid":"5tx3FGqyj","Uid":"MYNpoUWGC","Data":"매일매일 책을 읽은 기록","Order":0,"IsRoot":false,"Children":[],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"},{"ParentUid":"5tx3FGqyj","Uid":"krEThvk7u","Data":"카드 사용 내역 데이터","Order":1,"IsRoot":false,"Children":[],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"},{"ParentUid":"5tx3FGqyj","Uid":"AIWmBgPTE","Data":"캘랜더에 기록된 내용","Order":2,"IsRoot":false,"Children":[],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"},{"ParentUid":"5tx3FGqyj","Uid":"p4XhlXud9","Data":"기타 등등","Order":3,"IsRoot":false,"Children":[],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"}],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"},{"ParentUid":"CLX1bP1_L","Uid":"MlbDYLNjH","Data":"이런 데이터를 새롭게 처리할 때 마다, 새로운 서버를 만드는 것이 꽤나 번거롭다","Order":1,"IsRoot":false,"Children":[{"ParentUid":"MlbDYLNjH","Uid":"ZNVogaXNH","Data":"따라서 파일이나 리눅스 네임드 파이프를 사용해서 처리했다.","Order":0,"IsRoot":false,"Children":[{"ParentUid":"ZNVogaXNH","Uid":"eQSQwmkGK","Data":"가짓수가 늘어나면서 \"어떤 파일이 어떤 데이터에 사용되는가\"를 기억하기 어려워졌다","Order":0,"IsRoot":false,"Children":[],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"},{"ParentUid":"ZNVogaXNH","Uid":"4X3FXNrAz","Data":"따라서 중앙화된 하나의 파이프라인 프레임워크가 필요해졌다","Order":1,"IsRoot":false,"Children":[],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"}],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"},{"ParentUid":"MlbDYLNjH","Uid":"uj7ii2Sx_","Data":"개인 용도로 사용할 것이기 때문에 처리량이나 안정성보다는 \"사용하기 쉬운 것\"이 주 니즈였다","Order":1,"IsRoot":false,"Children":[{"ParentUid":"uj7ii2Sx_","Uid":"Qg6Y-KF9t","Data":"따라서 아파치 flume을 사용해 처리하고 있다.","Order":0,"IsRoot":false,"Children":[],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"}],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"}],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"},{"ParentUid":"CLX1bP1_L","Uid":"8cUFpfcP7","Data":"아파치 flume은 \"대용량 로그 전송\"을 담당하는 오픈 소스","Order":2,"IsRoot":false,"Children":[{"ParentUid":"8cUFpfcP7","Uid":"lNDQGxb2Y","Data":"source에서 가져와 channel을 통해서 sink에 전송하는 것이 주 목적이다.","Order":0,"IsRoot":false,"Children":[{"ParentUid":"lNDQGxb2Y","Uid":"gH_i3aUAp","Data":"이 과정에서 간단한 aggregation정도는 가능하나 사용하지 않고 있다.","Order":0,"IsRoot":false,"Children":[{"ParentUid":"gH_i3aUAp","Uid":"eCZAnPmRn","Data":"비밀번호 필터링 정도만 가능한 것으로 이해하고 있다.","Order":0,"IsRoot":false,"Children":[],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"}],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"}],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"},{"ParentUid":"8cUFpfcP7","Uid":"745f0qSAL","Data":"source는 http listen부터 file tailing, kafka까지 폭 넓게 사용할 수 있다.","Order":1,"IsRoot":false,"Children":[{"ParentUid":"745f0qSAL","Uid":"DvM7XnBsY","Data":"java로 작성할 수 있다면 custom source도 사용할 수 있기 때문에 나쁘지 않다.","Order":0,"IsRoot":false,"Children":[],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"},{"ParentUid":"745f0qSAL","Uid":"p6mo1BBxA","Data":"개인적으로 자바의 실력이 좋지 않아, 별개의 프로그램을 작성한 뒤 http나 file등을 통해서 flume에 넣도록 한다.","Order":1,"IsRoot":false,"Children":[{"ParentUid":"p6mo1BBxA","Uid":"ppugjC2JF","Data":"flume과 해당 프로그램 모두 잘 동작하는 것을 확인해줘야 하기 때문에, 조금 불편한 느낌이 있다.","Order":0,"IsRoot":false,"Children":[],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"}],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"}],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"},{"ParentUid":"8cUFpfcP7","Uid":"G8vZuuOke","Data":"channel의 경우 source에서 들어온 메시지가 sink에 내보내지기 전에 머무는 채널을 결정한다","Order":2,"IsRoot":false,"Children":[{"ParentUid":"G8vZuuOke","Uid":"O5Vo-0dvu","Data":"memory channel부터 kafka 채널, file 채널등을 사용할 수 있다.","Order":0,"IsRoot":false,"Children":[],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"},{"ParentUid":"G8vZuuOke","Uid":"QsbKrtsXL","Data":"개인적으로는 메시지가 많지 않기 때문에, memory 채널만 사용하고 있다.","Order":1,"IsRoot":false,"Children":[],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"}],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"},{"ParentUid":"8cUFpfcP7","Uid":"D90T0RLXG","Data":"sink의 경우 메시지가 발송될 도착지를 의미한다.","Order":3,"IsRoot":false,"Children":[{"ParentUid":"D90T0RLXG","Uid":"Ea0iefk1x","Data":"안타깝게도 flume이 로그 처리를 주로 하다보니, sink의 갯수가 제한적이다.","Order":0,"IsRoot":false,"Children":[{"ParentUid":"Ea0iefk1x","Uid":"cEHj1hCei","Data":"mysql, hdfs, hive등 db로 넣는 것들과 IRC, http, kafka 정도가 있다","Order":0,"IsRoot":false,"Children":[],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"}],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"},{"ParentUid":"D90T0RLXG","Uid":"gO1krq42C","Data":"물론 custom sink를 작성해서 사용할 수 가능하다.","Order":1,"IsRoot":false,"Children":[{"ParentUid":"gO1krq42C","Uid":"SB3RTJ44p","Data":"이를 위해서 flume java 코드를 별도로 작성하는 것 보다, kafka나 http sink를 사용하고 있다.","Order":0,"IsRoot":false,"Children":[],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"}],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"}],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"}],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"},{"ParentUid":"CLX1bP1_L","Uid":"FTrEWUM8Q","Data":"사용하는 것은 세가지 종류의 source만 주로 사용하고 있다.","Order":3,"IsRoot":false,"Children":[{"ParentUid":"FTrEWUM8Q","Uid":"H6PYvU7nw","Data":"[Spooling Directory Source](https://docs.google.com/spreadsheets/d/11cHhNO-n9g9NqjJ0OEHYtoLgSFB_t33CmiJbPcmRY0A/edit)","Order":0,"IsRoot":false,"Children":[{"ParentUid":"H6PYvU7nw","Uid":"2sVMO7Q6b","Data":"폴더를 만들어 두고, 해당 폴더 내에 생성되는 파일들을 스풀링한다.","Order":0,"IsRoot":false,"Children":[],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"},{"ParentUid":"H6PYvU7nw","Uid":"qJg_Qy0lt","Data":"유니크한 파일(예컨대 유닉스 타임 스탬프로 이름이 구성된)을 읽고, 내용을 설정된 sink로 전송한다","Order":1,"IsRoot":false,"Children":[],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"}],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"},{"ParentUid":"FTrEWUM8Q","Uid":"_RuqqfnQk","Data":"[HTTP Source](https://docs.google.com/spreadsheets/d/11cHhNO-n9g9NqjJ0OEHYtoLgSFB_t33CmiJbPcmRY0A/edit)","Order":1,"IsRoot":false,"Children":[{"ParentUid":"_RuqqfnQk","Uid":"EksJ8a-qz","Data":"특정 포트로 http post request를 보내면, 해당 내용을 파싱해서 sink로 전송한다.","Order":0,"IsRoot":false,"Children":[],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"}],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"},{"ParentUid":"FTrEWUM8Q","Uid":"a4e_aChGq","Data":"[Taildir Source](https://flume.apache.org/FlumeUserGuide.html#taildir-source)","Order":2,"IsRoot":false,"Children":[{"ParentUid":"a4e_aChGq","Uid":"RhuCbd_eB","Data":"Spooling과 비슷하지만 하나의 파일을 감시한다.","Order":0,"IsRoot":false,"Children":[],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"},{"ParentUid":"a4e_aChGq","Uid":"hD_IrzDxW","Data":"파일이 rotating되어도 정상적으로 추적한다","Order":1,"IsRoot":false,"Children":[],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"},{"ParentUid":"a4e_aChGq","Uid":"QyBMpwfdF","Data":"단 텍스트 파일만 지원되며, 한 줄씩 메시지로 처리된다","Order":2,"IsRoot":false,"Children":[],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"}],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"}],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"},{"ParentUid":"CLX1bP1_L","Uid":"boQCO6rq_","Data":"현재는 flume을 제거하고, 다른 방식으로 구현할 생각을 하고 있다.","Order":4,"IsRoot":false,"Children":[{"ParentUid":"boQCO6rq_","Uid":"oUH8kQ-NV","Data":"1. 새로운 서버를 만들거나 여러가지 설정을 기억하는 것들이 번거로워서 시작 했으나 여전히 번거롭다.","Order":0,"IsRoot":false,"Children":[{"ParentUid":"oUH8kQ-NV","Uid":"OYxATcMBR","Data":"매번 새로운 설정 파일을 만들어주어야 한다.","Order":0,"IsRoot":false,"Children":[],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"},{"ParentUid":"oUH8kQ-NV","Uid":"SA1LcRxdY","Data":"file등을 사용했을때 여전히 \"어떤 파일이 어떤 내용을 기록하는지\" 설정 파일을 읽어봐야 한다.","Order":1,"IsRoot":false,"Children":[],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"},{"ParentUid":"oUH8kQ-NV","Uid":"MxA1jK9Hn","Data":"마찬가지로 http의 경우 매번 포트 넘버를 확인해야 한다.","Order":2,"IsRoot":false,"Children":[],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"}],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"},{"ParentUid":"boQCO6rq_","Uid":"B94xvsb_N","Data":"2. 한번에 하나의 설정만 실행이 가능하다.","Order":1,"IsRoot":false,"Children":[{"ParentUid":"B94xvsb_N","Uid":"lJKbKEqNh","Data":"두개 이상 사용하기 위해서는 fluem을 두개 띄워주어야 한다.","Order":0,"IsRoot":false,"Children":[],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"},{"ParentUid":"B94xvsb_N","Uid":"ht9LSBgm8","Data":"크기가 커졌을 때는 이것이 이점이 있겠으나, 당장은 \"하나만 띄워도 하나만 실행되게\" 했으면 좋겠다,","Order":1,"IsRoot":false,"Children":[],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"}],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"},{"ParentUid":"boQCO6rq_","Uid":"KS7cFz2OX","Data":"두가지의 이유로 다른것을 찾고 있으나, 가려운 곳을 정확하게 긁어주는 프로젝트는 보이지 않는다","Order":2,"IsRoot":false,"Children":[{"ParentUid":"KS7cFz2OX","Uid":"64yHWZU39","Data":"Kafka에서 auto topic creation 설정을 쓰는것이 가장 가까운 해결책이 될 것으로 보인다.","Order":0,"IsRoot":false,"Children":[],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"},{"ParentUid":"KS7cFz2OX","Uid":"N-LLoEaAs","Data":"반대로 \"더 쉬운 Load Balancing\"이 해결책일 것 같다는 느낌도 든다.","Order":1,"IsRoot":false,"Children":[],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"}],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"}],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"}],"Images":[],"CreateTime":"2022-11-18T06:22:21Z","EditTime":"1970-01-01T00:00:00Z"}