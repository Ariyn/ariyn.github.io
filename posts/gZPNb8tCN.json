{"ParentUid":"gZPNb8tCN","Uid":"gZPNb8tCN","Data":"golang에서 mysql로 연결할 때 `unknown time zone: Asia/Seoul`이라는 오류가 계속 뜸 #TIL #linux","Order":0,"IsRoot":true,"Children":[{"ParentUid":"gZPNb8tCN","Uid":"d1s0S5xoT","Data":"이게 mysql에서 문제로 생각을 했었는데, 사실은 ubuntu에 Asia/Seoul zone info가 없어서 발생한 문제였음...","Order":0,"IsRoot":false,"Children":[{"ParentUid":"d1s0S5xoT","Uid":"8K4Gateql","Data":"어쩐지 호스트에서 도커로 접속하면 되고, 동일한 코드가 리눅스에서는 안된다 싶더라니...","Order":0,"IsRoot":false,"Children":[],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"}],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"},{"ParentUid":"gZPNb8tCN","Uid":"rQ95PxYJh","Data":"코드","Order":1,"IsRoot":false,"Children":[{"ParentUid":"rQ95PxYJh","Uid":"zwbnIUP8J","Data":"```golang\n\n// github.com/go-sql-driver/mysql@v1.5.0/dsn.go:451\n// connection string을 파싱해서 옵션들을 만들어내는 함수 parseDSNParams\ncase \"loc\":\n  if value, err = url.QueryUnescape(value); err != nil {\n      return\n  }\n  cfg.Loc, err = time.LoadLocation(value)\n  if err != nil {\n      return\n  }```","Order":0,"IsRoot":false,"Children":[],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"},{"ParentUid":"rQ95PxYJh","Uid":"OSiBP_70O","Data":"```golang\n\n// time/zoneinfo_read.go:529\n// parserDSNParams의 time.LoadLocation 함수가 마지막에 호출한다.\n// 이 함수는 Asia/Seoul 형식의 타임존 이름을 파싱하고, 시스템에서 값을 불러온다. 없다면 unknown time zone XXXX/XXXX 의 오류를 반환한다.\nfunc loadLocation(name string, sources []string) (z *Location, firstErr error) {\n  for _, source := range sources {\n    var zoneData, err = loadTzinfo(name, source)\n    if err == nil {\n      if z, err = LoadLocationFromTZData(name, zoneData); err == nil {\n        return z, nil\n      }\n    }\n    if firstErr == nil \u0026\u0026 err != syscall.ENOENT {\n      firstErr = err\n    }\n  }\n  if loadFromEmbeddedTZData != nil {\n    zonedata, err := loadFromEmbeddedTZData(name)\n    if err == nil {\n      if z, err = LoadLocationFromTZData(name, []byte(zonedata)); err == nil {\n        return z, nil\n      }\n    }\n    if firstErr == nil \u0026\u0026 err != syscall.ENOENT {\n      firstErr = err\n    }\n  }\n  if firstErr != nil {\n    return nil, firstErr\n  }\n  return nil, errors.New(\"unknown time zone \" + name)\n}```","Order":1,"IsRoot":false,"Children":[],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"}],"Images":null,"CreateTime":"1970-01-01T00:00:00Z","EditTime":"1970-01-01T00:00:00Z"}],"Images":[],"CreateTime":"2022-04-26T02:20:32Z","EditTime":"1970-01-01T00:00:00Z"}